<!DOCTYPE html>
<html>
<head>
  <title>SubsCryption</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <script src="./app.js"></script>
</head>
<body>
 <div class="container">
   <div class="row">

     <div class="col-lg-12">
      <h1>Create a new payment contract for your app</h1>
       <form id="newContractForm" onsubmit="event.preventDefault(); App.deployNewServiceContract();">

         <div class="form-group">
           <label for="appNameInput">App name</label>
           <input pattern=".{3,32}" required class="form-control" id="appNameInput" placeholder="My App">
         </div>

        <div class="form-group">
           <label for="appUrlNameInput">App Url Extension</label>
           <input pattern=".{3,32}" required class="form-control" id="appUrlNameInput" placeholder="my_app">
         </div>

         <div class="form-group">
           <label for="appPriceInput">Price in eth</label>
           <input required type="number" min="0" max="" step="0.000000000000000001" class="form-control" id="appPriceInput" placeholder="0.001">
         </div>

         <div class="form-group">
            <label for="appBillingPeriodSelect">Minimum Subscription</label>
            <select type="select" class="form-control" id="appBillingPeriodSelect">
              <option value="0">One Time Payment</option>
              <option value="86400">1 Day</option>
              <option value="604800">1 Week</option>
              <option value="2592000">1 Month</option>
              <option value="31104000">1 Year</option>
            </select>
         </div>

         <div class="form-group">
          <h2>Subscription will cost: <span id="priceDisplay" style="font-weight: bold;">0</span> Ether <span id="intervalDisplay" style="font-weight: bold;"></span></h2>
         </div>

         <button type="submit" class="btn btn-default">Deploy</button>
       </form>
     </div>

     <div class="col-lg-12">
      <h1>Purchase a subscription for <span id="appName" style="font-weight: bold;">App Name</span></h1>

       <form id="addEtherForm" onsubmit="event.preventDefault(); App.addEtherToAccount();">

         <div class="form-group">
           <label for="userID">User ID</label>
           <input pattern=".{6,6}" required class="form-control" maxlength=6 id="userID" placeholder="123ABC">
         </div>

         <div class="form-group">
           <label for="purchasePrice">Price in Ether</label>
           <input type="number" class="form-control" id="purchasePrice" readonly>
         </div>

         <div class="form-group">
          <h2>Total payment: <span id="totalPayment" style="font-weight: bold;">0</span> Ether</h2>
        </div>

         <button type="submit" class="btn btn-default">Send Payment</button>

       </form>
     </div>

   </div>
 </div>

    <!--### NEW CONTRACT BUTTON/MODAL-->
    <div class="container">
        <hr>
        <a href="#newContract" role="button" class="btn btn-default btn-lg" data-toggle="modal">Start New Contract Modal (test)</a>

        <div id="newContract" class="modal fade"  data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">X</button>
                        <h3 id="myModalLabel">Create a New Payment Contract</h3>
                    </div>
                    <div class="modal-body">

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="4" style="width: 20%;">
                                Step 1 of 5
                            </div>
                        </div>

                        <div class="navbar-inner hidden" >
                            <div class="navbar-inner">
                                <ul class="nav nav-pills">
                                    <li class="active"><a href="#step1" data-toggle="tab" data-step="1">Step 1</a></li>
                                    <li><a href="#step2" data-toggle="tab" data-step="2">Step 2</a></li>
                                    <li><a href="#step3" data-toggle="tab" data-step="3">Step 3</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="step1">
                                <div class="well">
                                    <form class="newContractForm">
                                        <div class="form-group">
                                            <label for="appNameInput">App name</label>
                                            <input pattern=".{3,32}" required class="form-control" id="appNameInput" placeholder="My App">
                                        </div>
                                        <div class="form-group"  data-toggle="popover" data-trigger="hover" data-placement="top" data-content="URL friendly name: lowercase, no spaces or special characters allowed">
                                            <label for="appUrlNameInput">App Url Extension</label>
                                            <input pattern=".{3,32}" required class="form-control" id="appUrlNameInput" placeholder="my_app">
                                        </div>
                                    </form>
                                </div>
                                <a class="btn btn-default next" href="#">Next Step</a>
                            </div>
                            <div class="tab-pane fade" id="step2">
                                <div class="well">
                                    <div class="form-group">
                                        <label for="appPriceInput">Price in eth</label>
                                        <input required type="number" min="0" max="" step="0.000000000000000001" class="form-control" id="appPriceInput" placeholder="0.001">
                                    </div>

                                    <div class="form-group">
                                        <label for="appBillingPeriodSelect">Minimum Subscription</label>
                                        <select type="select" class="form-control" id="appBillingPeriodSelect">
                                            <option value="0">One Time Payment</option>
                                            <option value="86400">1 Day</option>
                                            <option value="604800">1 Week</option>
                                            <option value="2592000">1 Month</option>
                                            <option value="31104000">1 Year</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <h2>Subscription will cost: <span id="priceDisplay" style="font-weight: bold;">0</span> Ether <span id="intervalDisplay" style="font-weight: bold;"></span></h2>
                                    </div>
                                </div>
                                <a class="btn btn-default previous" href="#">Previous Step</a>
                                <a class="btn btn-default next" href="#">Next Step</a>
                            </div>
                            <div class="tab-pane fade" id="step3">
                                <div class="well"> 
                                <h2>Summary</h2>
                                    <table class="summary-table">
                                        <tr>
                                            <th>App Name</th>
                                            <td id="appNameSummary">TODO</td>
                                        </tr>
                                        <tr>
                                            <th>App URL name</th>
                                            <td id="appURLNameSummary">TODO</td>
                                        </tr>
                                        <tr>
                                            <th>Billing Type</th>
                                            <td id='billingTypeSummary'>TODO</td>
                                        </tr>
                                        <tr>
                                            <th>Price in Eth</th>
                                            <td id="priceInEthSummary">TODO</td>
                                        </tr>
                                    </table>
                                    <button type="submit" class="btn btn-success deploy-btn">Deploy</button>
                                </div>
                                <a class="btn btn-default previous" href="#">Previous Step</a>
                            </div>
                        </div>
                    </div>
                    <!--<div class="modal-footer">
                        <button class="btn btn-primary">Save changes</button>
                    </div>-->
                </div>
            </div>
        </div>

    </div>
    <!--### END NEW CONTRACT BUTTON/MODAL-->

    <!--### MAKE PAYMENT BUTTON/MODAL-->

    <div class="container">
        <hr>
        <a href="#makePayment" role="button" class="btn btn-default btn-lg" data-toggle="modal">Make payment Modal (test)</a>

        <div id="makePayment" class="modal fade" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">X</button>

                        <h3 id="myModalLabel">Make a payment for <span id="appName" style="font-weight: bold;">App Name</span></h3>
                    </div>
                    <div class="modal-body">
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="step1">
                                <div class="well">
                                    <form id="addEtherForm" onsubmit="event.preventDefault(); App.addEtherToAccount();">

                                        <div class="form-group">
                                            <label for="userID">User ID</label>
                                            <input pattern=".{6,6}" required class="form-control" maxlength=6 id="userID" placeholder="123ABC">
                                        </div>

                                        <div class="form-group">
                                            <label for="purchasePrice">Price in Ether</label>
                                            <input type="number" class="form-control" id="purchasePrice" readonly>
                                        </div>

                                        <div class="form-group">
                                            <h2>Total payment: <span id="totalPayment" style="font-weight: bold;">0</span> Ether</h2>
                                        </div>

                                        <button type="submit" class="btn btn-default btn-success">Send Payment</button>

                                    </form>
                                </div>
                            </div>

                        </div>
                    </div>
                    <!--<div class="modal-footer">
                        <button class="btn btn-primary">Save changes</button>
                    </div>-->
                </div>
            </div>
        </div>

    </div>
    <!--### END MAKE PAYMENT BUTTON/MODAL-->



</body>
</html>
